# ===========================================
# Lead Email System - Environment Configuration
# ===========================================
# Copy this file to .env and update values

# ===========================================
# DATABASE (PostgreSQL with Prisma)
# ===========================================
# For production scaling, add connection pool parameters:
# ?connection_limit=20&pool_timeout=30
DATABASE_URL=postgresql://user:password@localhost:5432/leadflow?connection_limit=20&pool_timeout=30

# ===========================================
# REDIS
# ===========================================
# Single instance (up to ~5,000 concurrent users)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis Cluster (for 10,000+ concurrent users)
# Uncomment and set to enable cluster mode:
# REDIS_CLUSTER_NODES=redis1.example.com:6379,redis2.example.com:6379,redis3.example.com:6379

# ===========================================
# SERVER
# ===========================================
NODE_ENV=production
PORT=5000

# ===========================================
# EMAIL SERVICE (Brevo)
# ===========================================
BREVO_API_KEY=your_brevo_api_key
BREVO_SENDER_EMAIL=noreply@yourdomain.com
BREVO_SENDER_NAME=Your Company

# ===========================================
# SECURITY
# ===========================================
JWT_SECRET=your_super_secret_jwt_key_min_32_chars
CORS_ORIGIN=https://yourdomain.com

# ===========================================
# SCALING TIPS
# ===========================================
# 1. Database: Set connection_limit based on instances
#    - 1 instance: connection_limit=20
#    - 2 instances: connection_limit=10 each
#    - 4 instances: connection_limit=5 each
#    - Total should not exceed your DB max_connections
#
# 2. Redis: For 10K+ users, use Redis Cluster
#    - Set REDIS_CLUSTER_NODES with comma-separated host:port
#
# 3. Workers: Adjust concurrency based on CPU cores
#    - Email worker: 5 concurrent (10/sec rate limit)
#    - Followup worker: 3 concurrent (5/sec rate limit)
#    - Analytics worker: 2 concurrent (10/sec rate limit)
